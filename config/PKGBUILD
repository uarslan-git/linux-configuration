tar -h --exclude=.idea -cf rootfs.tar -C rootfs .

pkgname=linux-config
pkgver=0.1.0
pkgrel=1
pkgdesc='linux config'
url="https://github.com/uarslan-git/linux-config"
license=('GPL3')
arch=('x86_64')
source=('rootfs.tar')
noextract=('rootfs.tar')
sha512sums=('SKIP')


#startPackages
depends=(
    alacritty
    amd-ucode
    ani-cli
    anki-bin
    arandr
    ardour
    autorandr
    autotiling
    base
    base-devel
    blender
    bluez
    bluez-utils
    bottles
    breeze-hacked-cursor-theme-git
    brightnessctl
    btop
    cabal-install
    calibre
    carla
    ccls
    copyq
    csharp-ls
    cups
    cups-pdf
    curl
    darktable
    davinci-resolve-studio
    deno
    dmenu
    docker
    docker-compose
    dockerfile-language-server
    dracula-gtk-theme-full
    dracula-icons-git
    dunst
    efibootmgr
    element-desktop
    espeak-ng
    evince
    fd
    feh
    firefox
    flameshot
    fzf
    fzf-tab-git
    gdb
    ghc-static
    ghidra
    gimp
    git
    git-delta
    git-filter-repo
    github-cli
    git-secret
    gnome-keyring
    gnome-network-displays
    google-chrome
    gpick
    gradle
    graphql-lsp
    grive
    gst-plugin-pipewire
    guitarix
    gvfs
    gxplugins-lv2-git
    gzip
    haskell-language-server
    hoogle
    hplip
    i3blocks
    i3lock-color
    i3status
    i3-wm
    ibus-daemon
    ibus-mozc
    imhex-bin
    inetutils
    inkscape
    intellij-idea-ultimate-edition
    intellij-idea-ultimate-edition-jre
    intel-ucode
    java-language-server
    jdownloader2
    jupyterlab
    k9s
    kdeconnect
    kdenlive
    keepassxc
    kitty
    kotlin-language-server
    krita
    libreoffice-still
    lightdm
    lightdm-gtk-greeter
    linux
    linux-firmware
    linux-zen
    linux-zen-headers
    localsend-bin
    lua-language-server
    lxappearance
    ly
    man-db
    man-pages
    marksman-bin
    matcha-gtk-theme
    maven
    mov-cli
    mozc
    neofetch
    neovim
    nerd-fonts-complete-mono-glyphs
    networkmanager
    network-manager-applet
    nmap
    nodejs
    npm
    nvim-packer-git
    nvtop
    obsidian
    obs-studio
    oh-my-zsh-git
    openssh
    papirus-icon-theme
    paru
    paruz
    pavucontrol
    pcsx2-latest-bin
    picom
    pince-git
    pipewire-docs
    pipewire-jack
    pipewire-media-session
    playerctl
    pulseaudio
    pulseaudio-jack
    pycharm-professional
    pyright
    python
    python-virtualenv
    qalculate-gtk
    qbittorrent
    qjackctl
    ranger
    rar
    rclone
    ripgrep
    rofi
    samba
    sql-language-server
    stalonetray
    steam
    systemd
    teamspeak
    texlab
    texlive-basic
    texlive-bibtexextra
    texlive-binextra
    texlive-context
    texlive-fontsextra
    texlive-fontsrecommended
    texlive-fontutils
    texlive-formatsextra
    texlive-games
    texlive-humanities
    texlive-latex
    texlive-latexextra
    texlive-latexrecommended
    texlive-luatex
    texlive-mathscience
    texlive-metapost
    texlive-music
    texlive-pictures
    texlive-plaingeneric
    texlive-pstricks
    texlive-publishers
    texlive-xetex
    texstudio
    thunar
    thunderbird
    tlp
    tmux
    torbrowser-launcher
    trayer
    tree
    ttf-iosevka-nerd
    typescript-language-server
    ufw
    unityhub
    unzip
    ventoy-bin
    vesktop-bin
    vim
    vlc
    volumeicon
    vscode-html-languageserver
    vscode-json-languageserver
    vue-language-server
    webstorm
    webstorm-jre
    which
    winetricks
    xclip
    xdg-desktop-portal-gnome
    xf86-video-vesa
    xmobar
    xmonad
    xmonad-contrib
    xmonad-utils
    xorg-bdftopcf
    xorg-docs
    xorg-fonts-100dpi
    xorg-fonts-75dpi
    xorg-font-util
    xorg-iceauth
    xorg-server-devel
    xorg-server-xephyr
    xorg-server-xnest
    xorg-server-xvfb
    xorg-sessreg
    xorg-smproxy
    xorg-x11perf
    xorg-xauth
    xorg-xbacklight
    xorg-xcmsdb
    xorg-xdriinfo
    xorg-xev
    xorg-xgamma
    xorg-xhost
    xorg-xinput
    xorg-xkbevd
    xorg-xkbutils
    xorg-xkill
    xorg-xlsatoms
    xorg-xlsclients
    xorg-xpr
    xorg-xrefresh
    xorg-xsetroot
    xorg-xvinfo
    xorg-xwd
    xorg-xwininfo
    xorg-xwud
    xss-lock-session
    ytmdesktop-git
    zip
    zoom
    zsh
    zsh-autosuggestions
    zsh-completions
    zsh-syntax-highlighting
    zsh-theme-powerlevel10k-git
    zsh-you-should-use
  )
  #endPackages

  if lspci | rg -i nvidia &>/dev/null; then depends+=(
      davinci-resolve-studio 
      unityhub
      gamemode
      lib32-nvidia-utils 
      nvidia 
      nvidia-settings
      opencl-nvidia 
      mangohud
      zerotier-one
      gamescope
      upscayl-bin
      ); fi

  # Functions
  paru() {
  	if ! pacman -Qq | grep -i paru &>/dev/null; then
		git clone https://aur.archlinux.org/paru.git
		pushd paru
		makepkg -sif
		popd
		rm -rf paru
	fi
  }

  zsh() {
	  if [ $(basename $SHELL) != "zsh" ]; then
	  	chsh -s /usr/bin/zsh
	  fi
  }

  paru
  zsh

package() {
   tar -xf rootfs.tar -C "$pkgdir" --overwrite
   echo "finished"
}
